<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒ€êµ¬ì‹œ ë¯¼ì› ì ‘ìˆ˜</title>
    <link rel="stylesheet" href="../static/css/main.css">
</head>
<body>
    <main calss="contents">
        <h1>ëŒ€êµ¬ì‹œ ë¯¼ì› ì ‘ìˆ˜ ğŸ’¬ </h1>
        <form id = "prediction-form" action="/predict" method="POST">
            <div class="attr-wrap">
                <label id="lb_sub" for="subscription">ìì¹˜êµ¬ë¥¼ ê³ ë¥´ì„¸ìš”. </label>
                <select id="subscription" name = "subscription">
                    <option value="BukGu" name = "BukGu" selected>ë¶êµ¬</option>
                    <option value="DalseongGun" name = "DalseongGun" >ë‹¬ì„±êµ°</option>
                    <option value="DalsuGu" name = "DalsuGu" >ë‹¬ì„œêµ¬</option>
                    <option value="DongGu" name = "DongGu" >ë™êµ¬</option>
                    <option value="JungGu" name = "JungGu" >ì¤‘êµ¬</option>
                    <option value="NamGu" name = "NamGu" >ë‚¨êµ¬</option>
                    <option value="SeoGu" name = "SeoGu" >ì„œêµ¬</option>
                    <option value="Suseonggu" name = "Suseonggu" >ìˆ˜ì„±êµ¬</option>
                </select>
            </div><hr>
                <label id="lb_text" for="sentence">ë¯¼ì›ì„ ì…ë ¥í•˜ì„¸ìš”. </label>
                <p id="p_text">
                    <textarea id="sentence" name="sentence"> </textarea>
                </p>
                <button id='btn_submit' type="submit">ì ‘ìˆ˜</button>   
        </form>
        <script>
            // í¼ ì œì¶œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ : ì™„ë£Œë²„íŠ¼ì´ ëˆŒë¦¬ë©´ í´ë¦­ ì´ë²¤íŠ¸
            document.getElementById("prediction-form").addEventListener("submit", function(event){
                // select ê°’ ì¶”ê°€í•˜ê¸°
                const select = document.getElementById("subscription");
                const selectedOption = select.options[select.selectedIndex].value;
                
                console.log(selectedOption);
                // ìƒˆë¡œìš´ input ì—˜ë¦¬ë¨¼íŠ¸ ì†ì„±ì„ ì„¤ì •
                const input = document.createElement("input");
                // tpye ì„¤ì •ì„ íˆë“ ìœ¼ë¡œ í•´ì„œ ì‚¬ìš©ìí•œí…ŒëŠ” ì•ˆ ë³´ì´ê²Œ í•´ì¤Œ
                input.setAttribute("type", "hidden");
                // name ì†ì„±ì„ subscriptionìœ¼ë¡œ ì„¤ì • -> ì„œë²„ì—ì„œ í•´ë‹¹ ê°’ì„ ë°›ì•„ì˜¬ ë•Œ ì‚¬ìš©
                input.setAttribute("name", "subscription");
                input.setAttribute("value", selectedOption);
                // ìƒì„±ëœ inputì—˜ë¦¬ë¨¼íŠ¸ë¥¼ idê°€ prediction-formì¸ í¼ì— ì¶”ê°€í•´ì„œ í•¨ê»˜ ì „ì†¡
                document.getElementById("prediction-form").appendChild(input);
            });
        </script>
    </main>
</body>
</html>
