<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIVLE</title>
    <link rel="stylesheet" href="../static/css/result.css">
</head>
<body>
<main>
    <section class="wrap">
        <h1>ë¯¼ì›ì´ ì„±ê³µì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ“</h1><hr>
        <form action="/predict/manager" method="POST">
            <p><h2>ì˜ˆìƒ ì²˜ë¦¬ ë¶€ì„œ</h2></p>
            <p>{{ category }}</p>

            <input type="hidden" id="text" name="text" value="{{ text }}">
            <input type="hidden" id="category" name="category" value="{{ category }}">
            <input type="hidden" id="pred" name="pred" value="{{ pred }}">
            <input type="hidden" id="subscription" name="subscription" value="{{ subscription }}">
            <button type="submit">Manager í˜ì´ì§€ë¡œ ë„˜ì–´ê°€ê¸°</button>
        </form>
    </section>
</main>
    <script>
        // form ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
        const text = document.getElementById('text').value;
        const category = document.getElementById('category').value;
        const pred = document.getElementById('pred').value;
        const subscription = document.getElementById('subscription').value;

        // ì´ì „ì— ì €ì¥ëœ ë°ì´í„° ê°€ì ¸ì˜´
        let storedData = JSON.parse(localStorage.getItem('storedData')) || [];

        // form ë°ì´í„°ë¥¼ ê°ì²´ í˜•íƒœë¡œ ì €ì¥í•˜ê³  ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
        let data = {
            text: text,
            category: category,
            pred: pred,
            subscription: subscription
        };

        storedData.push(data);
        localStorage.setItem('storedData', JSON.stringify(storedData));
        
        // ì¹´ìš´í„° ê°’ì„ ì¦ê°€ì‹œí‚¤ê¸°
        let counter = parseInt(document.getElementById('counter').value);
        counter += 1;
        document.getElementById('counter').value = counter;
    </script>
</body>
</html>